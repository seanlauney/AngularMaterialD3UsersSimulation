{"ast":null,"code":"import _classCallCheck from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { MatTableDataSource } from '@angular/material/table';\nimport { SelectionModel } from '@angular/cdk/collections';\nimport { UserService } from '../services/users.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/users.service\";\nimport * as i2 from \"@angular/material/icon\";\nimport * as i3 from \"@angular/material/table\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/progress-spinner\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/divider\";\nimport * as i8 from \"@angular/material/slider\";\nimport * as i9 from \"@angular/forms\";\n\nfunction UserTableComponent_mat_header_cell_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-cell\");\n  }\n}\n\nfunction UserTableComponent_mat_cell_10_mat_spinner_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 20);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 25);\n  }\n}\n\nfunction UserTableComponent_mat_cell_10_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    var _r18 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function UserTableComponent_mat_cell_10_button_2_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      var row_r13 = i0.ɵɵnextContext().$implicit;\n      var ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.removeUser(ctx_r16.dataSource.filteredData.indexOf(row_r13));\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserTableComponent_mat_cell_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtemplate(1, UserTableComponent_mat_cell_10_mat_spinner_1_Template, 1, 1, \"mat-spinner\", 18);\n    i0.ɵɵtemplate(2, UserTableComponent_mat_cell_10_button_2_Template, 3, 0, \"button\", 19);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var row_r13 = ctx.$implicit;\n    var ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.remove === ctx_r1.dataSource.filteredData.indexOf(row_r13));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.remove);\n  }\n}\n\nfunction UserTableComponent_mat_header_cell_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Name \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserTableComponent_mat_cell_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.name, \" \");\n  }\n}\n\nfunction UserTableComponent_mat_header_cell_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Friends \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserTableComponent_mat_cell_16_span_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var friend_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", friend_r22.name, \", \");\n  }\n}\n\nfunction UserTableComponent_mat_cell_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\", 22);\n    i0.ɵɵelementStart(1, \"div\", 22);\n    i0.ɵɵtemplate(2, UserTableComponent_mat_cell_16_span_2_Template, 2, 1, \"span\", 23);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r20 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", element_r20.friends);\n  }\n}\n\nfunction UserTableComponent_mat_header_cell_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Age \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserTableComponent_mat_cell_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r23 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r23.age, \" years old \");\n  }\n}\n\nfunction UserTableComponent_mat_header_cell_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-header-cell\");\n    i0.ɵɵtext(1, \" Weight \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserTableComponent_mat_cell_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-cell\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var element_r24 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r24.weight, \" lbs \");\n  }\n}\n\nfunction UserTableComponent_mat_header_row_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-header-row\");\n  }\n}\n\nfunction UserTableComponent_mat_row_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-row\");\n  }\n}\n\nfunction UserTableComponent_h1_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h1\");\n    i0.ɵɵtext(1, \"No Users \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport var UserTableComponent = /*#__PURE__*/(function () {\n  var UserTableComponent = /*#__PURE__*/function () {\n    function UserTableComponent(userService) {\n      _classCallCheck(this, UserTableComponent);\n\n      this.userService = userService;\n      this.displayedColumns = ['select', 'name', 'friends', 'age', 'weight'];\n      this.dataSource = new MatTableDataSource();\n      this.selection = new SelectionModel(true, []);\n      this.mockCount = 500;\n      this.maxCount = 1000;\n    }\n\n    _createClass(UserTableComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this = this;\n\n        this.userService.users$.subscribe(function (users) {\n          _this.dataSource.data = users;\n        });\n      }\n    }, {\n      key: \"removeUser\",\n      value: function removeUser(index) {\n        var _this2 = this;\n\n        this.remove = index;\n        this.userService.removeUser(index).subscribe(function (res) {\n          // console.log(res, index);\n          setTimeout(function () {\n            _this2.remove = null;\n          }, 500);\n        });\n      }\n    }, {\n      key: \"resetUsers\",\n      value: function resetUsers() {\n        this.userService.loadMockData(this.mockCount);\n      }\n    }, {\n      key: \"clearUsers\",\n      value: function clearUsers() {\n        this.userService.clearCache();\n      }\n    }]);\n\n    return UserTableComponent;\n  }();\n\n  UserTableComponent.ɵfac = function UserTableComponent_Factory(t) {\n    return new (t || UserTableComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n  };\n\n  UserTableComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserTableComponent,\n    selectors: [[\"app-user-table\"]],\n    decls: 37,\n    vars: 9,\n    consts: [[1, \"table-container\"], [1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"select\"], [4, \"matHeaderCellDef\"], [4, \"matCellDef\"], [\"matColumnDef\", \"name\"], [\"matColumnDef\", \"friends\"], [\"class\", \"truncate\", 4, \"matCellDef\"], [\"matColumnDef\", \"age\"], [\"matColumnDef\", \"weight\"], [4, \"matHeaderRowDef\", \"matHeaderRowDefSticky\"], [4, \"matRowDef\", \"matRowDefColumns\"], [4, \"ngIf\"], [\"fxlayout\", \"row\", 1, \"footer\"], [\"fxFlex\", \"\"], [\"min\", \"1\", \"thumbLabel\", \"true\", \"tickInterval\", \"1\", 3, \"max\", \"ngModel\", \"ngModelChange\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", 3, \"click\"], [3, \"diameter\", 4, \"ngIf\"], [\"mat-button\", \"\", \"color\", \"accent\", 3, \"click\", 4, \"ngIf\"], [3, \"diameter\"], [\"mat-button\", \"\", \"color\", \"accent\", 3, \"click\"], [1, \"truncate\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function UserTableComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"h3\");\n        i0.ɵɵelementStart(2, \"mat-icon\");\n        i0.ɵɵtext(3, \"supervised_user_circle\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(4, \" Users \");\n        i0.ɵɵelementStart(5, \"small\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"mat-table\", 1);\n        i0.ɵɵelementContainerStart(8, 2);\n        i0.ɵɵtemplate(9, UserTableComponent_mat_header_cell_9_Template, 1, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(10, UserTableComponent_mat_cell_10_Template, 3, 2, \"mat-cell\", 4);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(11, 5);\n        i0.ɵɵtemplate(12, UserTableComponent_mat_header_cell_12_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(13, UserTableComponent_mat_cell_13_Template, 2, 1, \"mat-cell\", 4);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(14, 6);\n        i0.ɵɵtemplate(15, UserTableComponent_mat_header_cell_15_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(16, UserTableComponent_mat_cell_16_Template, 3, 1, \"mat-cell\", 7);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(17, 8);\n        i0.ɵɵtemplate(18, UserTableComponent_mat_header_cell_18_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(19, UserTableComponent_mat_cell_19_Template, 2, 1, \"mat-cell\", 4);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵelementContainerStart(20, 9);\n        i0.ɵɵtemplate(21, UserTableComponent_mat_header_cell_21_Template, 2, 0, \"mat-header-cell\", 3);\n        i0.ɵɵtemplate(22, UserTableComponent_mat_cell_22_Template, 2, 1, \"mat-cell\", 4);\n        i0.ɵɵelementContainerEnd();\n        i0.ɵɵtemplate(23, UserTableComponent_mat_header_row_23_Template, 1, 0, \"mat-header-row\", 10);\n        i0.ɵɵtemplate(24, UserTableComponent_mat_row_24_Template, 1, 0, \"mat-row\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(25, UserTableComponent_h1_25_Template, 2, 0, \"h1\", 12);\n        i0.ɵɵelement(26, \"mat-divider\");\n        i0.ɵɵelementStart(27, \"div\", 13);\n        i0.ɵɵelementStart(28, \"div\", 14);\n        i0.ɵɵelementStart(29, \"mat-slider\", 15);\n        i0.ɵɵlistener(\"ngModelChange\", function UserTableComponent_Template_mat_slider_ngModelChange_29_listener($event) {\n          return ctx.mockCount = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"h4\");\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 14);\n        i0.ɵɵelementStart(33, \"button\", 16);\n        i0.ɵɵlistener(\"click\", function UserTableComponent_Template_button_click_33_listener() {\n          return ctx.resetUsers();\n        });\n        i0.ɵɵtext(34, \"Load Mock Data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function UserTableComponent_Template_button_click_35_listener() {\n          return ctx.clearUsers();\n        });\n        i0.ɵɵtext(36, \"Clear Cache\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" (\", ctx.dataSource == null ? null : ctx.dataSource.filteredData.length, \" )\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n        i0.ɵɵadvance(16);\n        i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns)(\"matHeaderRowDefSticky\", true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.dataSource == null ? null : ctx.dataSource.filteredData.length));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"max\", ctx.maxCount)(\"ngModel\", ctx.mockCount);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" Number of mock users to load (\", ctx.mockCount, \") \");\n      }\n    },\n    directives: [i2.MatIcon, i3.MatTable, i3.MatColumnDef, i3.MatHeaderCellDef, i3.MatHeaderCell, i3.MatCellDef, i3.MatCell, i4.NgIf, i5.MatSpinner, i6.MatButton, i4.NgForOf, i3.MatHeaderRowDef, i3.MatHeaderRow, i3.MatRowDef, i3.MatRow, i7.MatDivider, i8.MatSlider, i9.NgControlStatus, i9.NgModel],\n    styles: [\"mat-cell:first-of-type,   mat-footer-cell:first-of-type,   mat-header-cell:first-of-type{padding-left:0!important}  mat-card{box-shadow:none}  mat-table{min-width:80vw;min-height:80vh}  mat-slider{width:90%}h3[_ngcontent-%COMP%]{color:#3f51b5}h4[_ngcontent-%COMP%]{color:#673ab7;font-family:roboto;padding:0;margin:0}button[_ngcontent-%COMP%]{margin-right:1em;width:200px}.table-container[_ngcontent-%COMP%]{margin-top:10px;max-height:20vw;min-width:70vw;overflow:auto}.footer[_ngcontent-%COMP%]{padding-top:3em}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{font-family:roboto}h1[_ngcontent-%COMP%]{text-align:center;color:#f44336}.truncate[_ngcontent-%COMP%]{width:80%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;padding-right:5px}\"]\n  });\n  return UserTableComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}