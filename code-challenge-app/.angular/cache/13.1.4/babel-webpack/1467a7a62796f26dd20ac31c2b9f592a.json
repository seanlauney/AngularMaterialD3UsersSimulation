{"ast":null,"code":"import _classCallCheck from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { UserPhotoService } from './user-photo.service';\nimport { Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { FormatService } from './format.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./user-photo.service\";\nimport * as i2 from \"./format.service\";\nexport var RandomUsersService = /*#__PURE__*/(function () {\n  var RandomUsersService = /*#__PURE__*/function () {\n    function RandomUsersService(userPhotoService, formatService) {\n      _classCallCheck(this, RandomUsersService);\n\n      this.userPhotoService = userPhotoService;\n      this.formatService = formatService;\n      this.friends = [];\n    }\n\n    _createClass(RandomUsersService, [{\n      key: \"getFriends\",\n      value: function getFriends(max) {\n        var random = this.friends.sort(function () {\n          return 0.5 - Math.random();\n        });\n        return random.slice(0, max).map(function (item) {\n          if (item.friends.length < 1) {\n            item.friends.push(random[0]);\n          }\n\n          item.friends.map(function (current) {\n            current.friends = [];\n            return current;\n          });\n          return item;\n        });\n      }\n    }, {\n      key: \"getUsers\",\n      value: function getUsers(max) {\n        var _this = this;\n\n        return this.userPhotoService.getPhotos(max).pipe(map(function (users) {\n          _this.users = users['results'].map(function (user) {\n            var currentUser = {\n              name: _this.formatService.titleCase(user.name.first),\n              age: user.dob.age,\n              weight: Math.floor(user.location.postcode / 1000 + 100) || 155,\n              friends: _this.getFriends(Math.floor(Math.random() * 15) + 1)\n            };\n\n            _this.friends.push(currentUser);\n\n            return currentUser;\n          });\n          return _this.users;\n        }));\n      }\n    }]);\n\n    return RandomUsersService;\n  }();\n\n  RandomUsersService.ɵfac = function RandomUsersService_Factory(t) {\n    return new (t || RandomUsersService)(i0.ɵɵinject(i1.UserPhotoService), i0.ɵɵinject(i2.FormatService));\n  };\n\n  RandomUsersService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: RandomUsersService,\n    factory: RandomUsersService.ɵfac,\n    providedIn: 'root'\n  });\n  return RandomUsersService;\n})();","map":null,"metadata":{},"sourceType":"module"}