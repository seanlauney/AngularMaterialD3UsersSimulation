{"ast":null,"code":"import _classCallCheck from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/slauney/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { UserService } from '../services/users.service';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/users.service\";\n\nfunction UserComponent_mat_error_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Name is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_error_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"You have more than 60 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"Age is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_error_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"You have more than 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_error_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"weight is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_error_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"You have more than 3 characters\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_h4_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h4\");\n    i0.ɵɵelementStart(1, \"div\");\n    i0.ɵɵelementStart(2, \"mat-icon\");\n    i0.ɵɵtext(3, \"warning\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" you need to create at least one user before they can have friends. \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_form_field_35_mat_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var friend_r16 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", friend_r16);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", friend_r16.name, \" \");\n  }\n}\n\nfunction UserComponent_mat_form_field_35_mat_error_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \"At least one friend is required\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction UserComponent_mat_form_field_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\");\n    i0.ɵɵelementStart(1, \"mat-select\", 17, 18);\n    i0.ɵɵtemplate(3, UserComponent_mat_form_field_35_mat_option_3_Template, 2, 2, \"mat-option\", 19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-hint\", 5);\n    i0.ɵɵtext(5, \"add some friends.\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"mat-hint\", 6);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, UserComponent_mat_form_field_35_mat_error_8_Template, 2, 0, \"mat-error\", 7);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var _r13 = i0.ɵɵreference(2);\n\n    var ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"required\", ctx_r10.friendAutoOptions == null ? null : ctx_r10.friendAutoOptions.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.friendAutoOptions);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", _r13.selected.length, \" friends\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r10.hasError(\"friends\", \"required\"));\n  }\n}\n\nfunction UserComponent_mat_spinner_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-spinner\", 21);\n  }\n\n  if (rf & 2) {\n    i0.ɵɵproperty(\"diameter\", 30);\n  }\n}\n\nfunction UserComponent_mat_card_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 1);\n    i0.ɵɵelementStart(1, \"mat-card-title\");\n    i0.ɵɵtext(2, \"New User Created\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-card-content\");\n    i0.ɵɵelement(4, \"app-user-details\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    var ctx_r12 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"user\", ctx_r12.friendAutoOptions[ctx_r12.friendAutoOptions.length - 1]);\n  }\n}\n\nexport var UserComponent = /*#__PURE__*/(function () {\n  var UserComponent = /*#__PURE__*/function () {\n    function UserComponent(userService) {\n      var _this = this;\n\n      _classCallCheck(this, UserComponent);\n\n      this.userService = userService;\n      this.submitted = false;\n      this.tempTest = [];\n      this.friendAutoOptions = [];\n      this.showLastCreatedUser = false;\n      this.spinner = false;\n\n      this.hasError = function (controlName, errorName) {\n        return _this.userForm.controls[controlName].hasError(errorName);\n      };\n\n      this.createUser = function (ownerFormValue) {\n        if (_this.userForm.valid) {\n          _this.executeOwnerCreation(ownerFormValue);\n        }\n      };\n\n      this.executeOwnerCreation = function (userFormValue) {\n        var user = {\n          name: userFormValue.name,\n          friends: userFormValue.friends,\n          weight: userFormValue.weight,\n          age: userFormValue.age\n        };\n\n        _this.userService.addUser(user).subscribe(function (res) {\n          _this.spinner = true; // console.log(res);\n\n          setTimeout(function () {\n            _this.showLastCreatedUser = true;\n\n            _this.userForm.reset();\n\n            _this.spinner = false;\n          }, 800);\n        }, function (error) {\n          console.log(error, user);\n        });\n      };\n\n      this.friends = [];\n    }\n\n    _createClass(UserComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {\n        var _this2 = this;\n\n        this.userService.users$.subscribe(function (users) {\n          _this2.friendAutoOptions = users;\n        });\n        this.userForm = new FormGroup({\n          name: new FormControl('', [Validators.required, Validators.minLength(2), Validators.maxLength(60)]),\n          friends: new FormControl([]),\n          weight: new FormControl('', [Validators.required, Validators.min(1), Validators.max(1000)]),\n          age: new FormControl('', [Validators.required, Validators.min(1), Validators.max(200)])\n        });\n      }\n    }]);\n\n    return UserComponent;\n  }();\n\n  UserComponent.ɵfac = function UserComponent_Factory(t) {\n    return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n  };\n\n  UserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserComponent,\n    selectors: [[\"app-user\"]],\n    decls: 48,\n    vars: 18,\n    consts: [[\"fxLayout\", \"column\"], [\"fxFlex\", \"\"], [\"autocomplete\", \"off\", \"novalidate\", \"\", \"fxLayout\", \"column wrap\", \"fxLayoutAlign\", \"center center\", 3, \"formGroup\", \"ngSubmit\"], [\"matInput\", \"\", \"type\", \"text\", \"placeholder\", \"Name\", \"formControlName\", \"name\", \"id\", \"name\", 3, \"value\"], [\"nameInput\", \"\"], [\"align\", \"start\"], [\"align\", \"end\"], [4, \"ngIf\"], [\"matInput\", \"\", \"type\", \"tel\", \"placeholder\", \"Age\", \"formControlName\", \"age\", \"id\", \"age\", \"required\", \"\", \"maxlength\", \"3\", \"minlength\", \"1\"], [\"ageInput\", \"\"], [\"matInput\", \"\", \"type\", \"tel\", \"placeholder\", \"Weight\", \"formControlName\", \"weight\", \"id\", \"weight\", \"required\", \"\", \"maxlength\", \"3\", \"minlength\", \"1\"], [\"weightInput\", \"\"], [\"align\", \"center\", \"fxLayout\", \"row\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"fxFlex\", \"\", 3, \"disabled\"], [\"mat-raised-button\", \"\", \"color\", \"accent\", \"fxFlex\", \"\", 3, \"click\"], [3, \"diameter\", 4, \"ngIf\"], [\"fxFlex\", \"\", 4, \"ngIf\"], [\"placeholder\", \"Friends\", \"id\", \"friends\", \"formControlName\", \"friends\", \"multiple\", \"\", 3, \"required\"], [\"friendsSelect\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [3, \"diameter\"], [3, \"user\"]],\n    template: function UserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"section\", 0);\n        i0.ɵɵelementStart(1, \"mat-card\", 1);\n        i0.ɵɵelementStart(2, \"mat-card-title\");\n        i0.ɵɵtext(3, \"Create a new user\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function UserComponent_Template_form_ngSubmit_4_listener() {\n          return ctx.createUser(ctx.userForm.value);\n        });\n        i0.ɵɵelementStart(5, \"mat-card-content\");\n        i0.ɵɵelementStart(6, \"mat-form-field\");\n        i0.ɵɵelement(7, \"input\", 3, 4);\n        i0.ɵɵpipe(9, \"titlecase\");\n        i0.ɵɵelementStart(10, \"mat-hint\", 5);\n        i0.ɵɵtext(11, \"users name.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"mat-hint\", 6);\n        i0.ɵɵtext(13);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, UserComponent_mat_error_14_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵtemplate(15, UserComponent_mat_error_15_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"mat-form-field\");\n        i0.ɵɵelement(17, \"input\", 8, 9);\n        i0.ɵɵelementStart(19, \"mat-hint\", 5);\n        i0.ɵɵtext(20, \"years old\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"mat-hint\", 6);\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(23, UserComponent_mat_error_23_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵtemplate(24, UserComponent_mat_error_24_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"mat-form-field\");\n        i0.ɵɵelement(26, \"input\", 10, 11);\n        i0.ɵɵelementStart(28, \"mat-hint\", 5);\n        i0.ɵɵtext(29, \"lbs\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"mat-hint\", 6);\n        i0.ɵɵtext(31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(32, UserComponent_mat_error_32_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵtemplate(33, UserComponent_mat_error_33_Template, 2, 0, \"mat-error\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(34, UserComponent_h4_34_Template, 5, 0, \"h4\", 7);\n        i0.ɵɵtemplate(35, UserComponent_mat_form_field_35_Template, 9, 4, \"mat-form-field\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"mat-card-actions\", 12);\n        i0.ɵɵelementStart(37, \"button\", 13);\n        i0.ɵɵelementStart(38, \"mat-icon\");\n        i0.ɵɵtext(39, \" save \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(40, \" Create User \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"button\", 14);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_41_listener() {\n          return ctx.userForm.reset();\n        });\n        i0.ɵɵelementStart(42, \"mat-icon\");\n        i0.ɵɵtext(43, \" cancel \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(44, \"Clear User \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(45, \"mat-divider\");\n        i0.ɵɵtemplate(46, UserComponent_mat_spinner_46_Template, 1, 1, \"mat-spinner\", 15);\n        i0.ɵɵtemplate(47, UserComponent_mat_card_47_Template, 5, 1, \"mat-card\", 16);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        var _r0 = i0.ɵɵreference(8);\n\n        var _r3 = i0.ɵɵreference(18);\n\n        var _r6 = i0.ɵɵreference(27);\n\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"formGroup\", ctx.userForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"value\", i0.ɵɵpipeBind1(9, 16, ctx.userForm.get(\"name\").value));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", _r0 == null ? null : _r0.value.length, \" / 60\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"name\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"name\", \"maxlength\"));\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", _r3 == null ? null : _r3.value.length, \" / 3\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"age\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"age\", \"maxlength\"));\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"\", _r6 == null ? null : _r6.value.length, \" / 3\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"weight\", \"required\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasError(\"weight\", \"maxlength\"));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !(ctx.friendAutoOptions == null ? null : ctx.friendAutoOptions.length));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.friendAutoOptions == null ? null : ctx.friendAutoOptions.length);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", !ctx.userForm.valid);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngIf\", ctx.spinner);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showLastCreatedUser);\n      }\n    },\n    styles: [\"form[_ngcontent-%COMP%]{padding:.8em}  .mat-form-field-suffix{cursor:pointer;color:#3f51b5}  mat-card-content,   mat-card-actions{width:100%}  mat-card-title{color:#3f51b5}  mat-form-field{width:100%;padding-top:.5em}h4[_ngcontent-%COMP%]{text-align:center;color:#f44336}\"]\n  });\n  return UserComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}